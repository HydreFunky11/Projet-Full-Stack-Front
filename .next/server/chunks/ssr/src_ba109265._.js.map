{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/remyb/Documents/cours/dev%20web%20full%20stack/final%20project/Projet-Full-Stack-Front/src/services/api/characterService.ts"],"sourcesContent":["import { apiRequest } from './apiClient';\r\n\r\nexport interface Character {\r\n  id: number;\r\n  name: string;\r\n  race: string;\r\n  class: string;\r\n  level: number;\r\n  background?: string;\r\n  inventory?: string;\r\n  stats?: any;\r\n  isAlive: boolean;\r\n  userId: number;\r\n  sessionId?: number | null;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n  session?: {\r\n    id: number;\r\n    title: string;\r\n    status: string;\r\n  } | null;\r\n}\r\n\r\nexport interface CharactersResponse {\r\n  success: boolean;\r\n  characters: Character[];\r\n}\r\n\r\nexport interface CharacterResponse {\r\n  success: boolean;\r\n  character: Character;\r\n}\r\n\r\nexport const characterService = {\r\n  getCharacters: async (userId?: number): Promise<CharactersResponse> => {\r\n    const queryParams = userId ? `?userId=${userId}` : '';\r\n    return apiRequest<CharactersResponse>(`/characters${queryParams}`);\r\n  },\r\n\r\n  getCharacterById: async (id: number): Promise<CharacterResponse> => {\r\n    return apiRequest<CharacterResponse>(`/characters/${id}`);\r\n  },\r\n\r\n  createCharacter: async (characterData: {\r\n    name: string;\r\n    race: string;\r\n    class: string;\r\n    level: number;\r\n    background?: string;\r\n    inventory?: string;\r\n    stats?: any;\r\n  }): Promise<CharacterResponse> => {\r\n    return apiRequest<CharacterResponse>('/characters', {\r\n      method: 'POST',\r\n      body: characterData,\r\n    });\r\n  },\r\n\r\n  updateCharacter: async (\r\n    id: number,\r\n    characterData: {\r\n      name?: string;\r\n      race?: string;\r\n      class?: string;\r\n      level?: number;\r\n      background?: string;\r\n      inventory?: string;\r\n      stats?: any;\r\n      isAlive?: boolean;\r\n      sessionId?: number | null;\r\n    }\r\n  ): Promise<CharacterResponse> => {\r\n    return apiRequest<CharacterResponse>(`/characters/${id}`, {\r\n      method: 'PUT',\r\n      body: characterData,\r\n    });\r\n  },\r\n\r\n  deleteCharacter: async (id: number): Promise<{ success: boolean; message: string }> => {\r\n    return apiRequest<{ success: boolean; message: string }>(`/characters/${id}`, {\r\n      method: 'DELETE',\r\n    });\r\n  },\r\n\r\n  getSessionCharacters: async (sessionId: number): Promise<CharactersResponse> => {\r\n    return apiRequest<CharactersResponse>(`/characters/session/${sessionId}`);\r\n  },\r\n\r\n  associateWithSession: async (\r\n    characterId: number,\r\n    sessionId: number | null\r\n  ): Promise<CharacterResponse> => {\r\n    return apiRequest<CharacterResponse>(`/characters/${characterId}/assign-session`, {\r\n      method: 'PUT',\r\n      body: { sessionId },\r\n    });\r\n  },\r\n};"],"names":[],"mappings":";;;AAAA;;AAiCO,MAAM,mBAAmB;IAC9B,eAAe,OAAO;QACpB,MAAM,cAAc,SAAS,CAAC,QAAQ,EAAE,QAAQ,GAAG;QACnD,OAAO,CAAA,GAAA,mIAAA,CAAA,aAAU,AAAD,EAAsB,CAAC,WAAW,EAAE,aAAa;IACnE;IAEA,kBAAkB,OAAO;QACvB,OAAO,CAAA,GAAA,mIAAA,CAAA,aAAU,AAAD,EAAqB,CAAC,YAAY,EAAE,IAAI;IAC1D;IAEA,iBAAiB,OAAO;QAStB,OAAO,CAAA,GAAA,mIAAA,CAAA,aAAU,AAAD,EAAqB,eAAe;YAClD,QAAQ;YACR,MAAM;QACR;IACF;IAEA,iBAAiB,OACf,IACA;QAYA,OAAO,CAAA,GAAA,mIAAA,CAAA,aAAU,AAAD,EAAqB,CAAC,YAAY,EAAE,IAAI,EAAE;YACxD,QAAQ;YACR,MAAM;QACR;IACF;IAEA,iBAAiB,OAAO;QACtB,OAAO,CAAA,GAAA,mIAAA,CAAA,aAAU,AAAD,EAAyC,CAAC,YAAY,EAAE,IAAI,EAAE;YAC5E,QAAQ;QACV;IACF;IAEA,sBAAsB,OAAO;QAC3B,OAAO,CAAA,GAAA,mIAAA,CAAA,aAAU,AAAD,EAAsB,CAAC,oBAAoB,EAAE,WAAW;IAC1E;IAEA,sBAAsB,OACpB,aACA;QAEA,OAAO,CAAA,GAAA,mIAAA,CAAA,aAAU,AAAD,EAAqB,CAAC,YAAY,EAAE,YAAY,eAAe,CAAC,EAAE;YAChF,QAAQ;YACR,MAAM;gBAAE;YAAU;QACpB;IACF;AACF","debugId":null}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/remyb/Documents/cours/dev%20web%20full%20stack/final%20project/Projet-Full-Stack-Front/src/app/characters/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { characterService, Character } from '../../services/api/characterService';\r\nimport Link from 'next/link';\r\nimport styles from '../../styles/characters.module.scss';\r\n\r\nexport default function Characters() {\r\n  const [characters, setCharacters] = useState<Character[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [searchTerm, setSearchTerm] = useState<string>('');\r\n\r\n  useEffect(() => {\r\n    fetchCharacters();\r\n  }, []);\r\n\r\n  const fetchCharacters = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await characterService.getCharacters();\r\n      setCharacters(response.characters);\r\n    } catch (err) {\r\n      setError((err as Error).message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const filteredCharacters = characters.filter(\r\n    (char) =>\r\n      char.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      char.race.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      char.class.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  return (\r\n    <div className={styles.charactersContainer}>\r\n      <div className={styles.header}>\r\n        <h1>Vos personnages</h1>\r\n        <Link href=\"/characters/create\" className={styles.createButton}>\r\n          Créer un personnage\r\n        </Link>\r\n      </div>\r\n\r\n      <div className={styles.searchContainer}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Rechercher un personnage...\"\r\n          value={searchTerm}\r\n          onChange={(e) => setSearchTerm(e.target.value)}\r\n          className={styles.searchInput}\r\n        />\r\n      </div>\r\n\r\n      {loading ? (\r\n        <div className={styles.loading}>Chargement des personnages...</div>\r\n      ) : error ? (\r\n        <div className={styles.error}>{error}</div>\r\n      ) : filteredCharacters.length === 0 ? (\r\n        <div className={styles.noCharacters}>\r\n          <p>Aucun personnage trouvé.</p>\r\n          {searchTerm && (\r\n            <button onClick={() => setSearchTerm('')} className={styles.clearSearch}>\r\n              Effacer la recherche\r\n            </button>\r\n          )}\r\n        </div>\r\n      ) : (\r\n        <div className={styles.charactersList}>\r\n          {filteredCharacters.map((character) => (\r\n            <Link\r\n              key={character.id}\r\n              href={`/characters/${character.id}`}\r\n              className={styles.characterCard}\r\n            >\r\n              <div className={styles.characterHeader}>\r\n                <h2 className={styles.characterName}>{character.name}</h2>\r\n                <span className={styles.characterLevel}>Niveau {character.level}</span>\r\n              </div>\r\n              <div className={styles.characterInfo}>\r\n                <p className={styles.characterRaceClass}>\r\n                  {character.race} {character.class}\r\n                </p>\r\n                {character.session && (\r\n                  <p className={styles.characterSession}>\r\n                    Session: {character.session.title}\r\n                  </p>\r\n                )}\r\n              </div>\r\n              {character.background && (\r\n                <p className={styles.characterBackground}>{character.background}</p>\r\n              )}\r\n              <div className={styles.characterStatus}>\r\n                <span\r\n                  className={`${styles.statusIndicator} ${\r\n                    character.isAlive ? styles.alive : styles.dead\r\n                  }`}\r\n                >\r\n                  {character.isAlive ? 'Vivant' : 'Décédé'}\r\n                </span>\r\n              </div>\r\n            </Link>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}