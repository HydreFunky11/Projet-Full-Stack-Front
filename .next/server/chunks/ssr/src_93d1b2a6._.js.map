{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/remyb/Documents/cours/dev%20web%20full%20stack/final%20project/Projet-Full-Stack-Front/src/services/api/characterService.ts"],"sourcesContent":["import { apiRequest } from './apiClient';\r\n\r\nexport interface Character {\r\n  id: number;\r\n  name: string;\r\n  race: string;\r\n  class: string;\r\n  level: number;\r\n  background?: string;\r\n  inventory?: string;\r\n  stats: string | object;\r\n  isAlive: boolean;\r\n  userId: number;\r\n  sessionId?: number | null;\r\n  createdAt: string;\r\n  updatedAt: string;\r\n  session?: {\r\n    id: number;\r\n    title: string;\r\n    status: string;\r\n  };\r\n  user?: {\r\n    id: number;\r\n    username: string;\r\n  };\r\n}\r\n\r\nexport const characterService = {\r\n  // Créer un nouveau personnage\r\n  async createCharacter(characterData: any) {\r\n    try {\r\n      return await apiRequest<{success: boolean; character: Character}>('/characters', {\r\n        method: 'POST',\r\n        body: characterData\r\n      });\r\n    } catch (error) {\r\n      console.error('Erreur lors de la création du personnage:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Récupérer tous les personnages de l'utilisateur\r\n  async getCharacters() {\r\n    try {\r\n      return await apiRequest<{success: boolean; characters: Character[]}>('/characters');\r\n    } catch (error) {\r\n      console.error('Erreur lors de la récupération des personnages:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Récupérer un personnage par son ID\r\n  async getCharacterById(id: number) {\r\n    try {\r\n      return await apiRequest<{success: boolean; character: Character}>(`/characters/${id}`);\r\n    } catch (error) {\r\n      console.error(`Erreur lors de la récupération du personnage ${id}:`, error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Mettre à jour un personnage\r\n  async updateCharacter(id: number, characterData: any) {\r\n    try {\r\n      return await apiRequest<{success: boolean; character: Character}>(`/characters/${id}`, {\r\n        method: 'PUT',\r\n        body: characterData\r\n      });\r\n    } catch (error) {\r\n      console.error(`Erreur lors de la mise à jour du personnage ${id}:`, error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Supprimer un personnage\r\n  async deleteCharacter(id: number) {\r\n    try {\r\n      return await apiRequest<{success: boolean}>(`/characters/${id}`, {\r\n        method: 'DELETE'\r\n      });\r\n    } catch (error) {\r\n      console.error(`Erreur lors de la suppression du personnage ${id}:`, error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Récupérer les personnages d'une session\r\n  async getSessionCharacters(sessionId: number) {\r\n    try {\r\n      return await apiRequest<{success: boolean; characters: Character[]}>(`/characters/session/${sessionId}`);\r\n    } catch (error) {\r\n      console.error(`Erreur lors de la récupération des personnages de la session ${sessionId}:`, error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  // Associer un personnage à une session\r\n  async assignToSession(characterId: number, sessionId: number | null) {\r\n    try {\r\n      return await apiRequest<{success: boolean; character: Character}>(`/characters/${characterId}/assign-session`, {\r\n        method: 'PUT',\r\n        body: { sessionId }\r\n      });\r\n    } catch (error) {\r\n      console.error(`Erreur lors de l'association du personnage ${characterId} à la session:`, error);\r\n      throw error;\r\n    }\r\n  }\r\n};"],"names":[],"mappings":";;;AAAA;;AA2BO,MAAM,mBAAmB;IAC9B,8BAA8B;IAC9B,MAAM,iBAAgB,aAAkB;QACtC,IAAI;YACF,OAAO,MAAM,CAAA,GAAA,mIAAA,CAAA,aAAU,AAAD,EAA4C,eAAe;gBAC/E,QAAQ;gBACR,MAAM;YACR;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,6CAA6C;YAC3D,MAAM;QACR;IACF;IAEA,kDAAkD;IAClD,MAAM;QACJ,IAAI;YACF,OAAO,MAAM,CAAA,GAAA,mIAAA,CAAA,aAAU,AAAD,EAA+C;QACvE,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,mDAAmD;YACjE,MAAM;QACR;IACF;IAEA,qCAAqC;IACrC,MAAM,kBAAiB,EAAU;QAC/B,IAAI;YACF,OAAO,MAAM,CAAA,GAAA,mIAAA,CAAA,aAAU,AAAD,EAA4C,CAAC,YAAY,EAAE,IAAI;QACvF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,CAAC,6CAA6C,EAAE,GAAG,CAAC,CAAC,EAAE;YACrE,MAAM;QACR;IACF;IAEA,8BAA8B;IAC9B,MAAM,iBAAgB,EAAU,EAAE,aAAkB;QAClD,IAAI;YACF,OAAO,MAAM,CAAA,GAAA,mIAAA,CAAA,aAAU,AAAD,EAA4C,CAAC,YAAY,EAAE,IAAI,EAAE;gBACrF,QAAQ;gBACR,MAAM;YACR;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,CAAC,4CAA4C,EAAE,GAAG,CAAC,CAAC,EAAE;YACpE,MAAM;QACR;IACF;IAEA,0BAA0B;IAC1B,MAAM,iBAAgB,EAAU;QAC9B,IAAI;YACF,OAAO,MAAM,CAAA,GAAA,mIAAA,CAAA,aAAU,AAAD,EAAsB,CAAC,YAAY,EAAE,IAAI,EAAE;gBAC/D,QAAQ;YACV;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,CAAC,4CAA4C,EAAE,GAAG,CAAC,CAAC,EAAE;YACpE,MAAM;QACR;IACF;IAEA,0CAA0C;IAC1C,MAAM,sBAAqB,SAAiB;QAC1C,IAAI;YACF,OAAO,MAAM,CAAA,GAAA,mIAAA,CAAA,aAAU,AAAD,EAA+C,CAAC,oBAAoB,EAAE,WAAW;QACzG,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,CAAC,6DAA6D,EAAE,UAAU,CAAC,CAAC,EAAE;YAC5F,MAAM;QACR;IACF;IAEA,uCAAuC;IACvC,MAAM,iBAAgB,WAAmB,EAAE,SAAwB;QACjE,IAAI;YACF,OAAO,MAAM,CAAA,GAAA,mIAAA,CAAA,aAAU,AAAD,EAA4C,CAAC,YAAY,EAAE,YAAY,eAAe,CAAC,EAAE;gBAC7G,QAAQ;gBACR,MAAM;oBAAE;gBAAU;YACpB;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,CAAC,2CAA2C,EAAE,YAAY,cAAc,CAAC,EAAE;YACzF,MAAM;QACR;IACF;AACF","debugId":null}},
    {"offset": {"line": 95, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/src/styles/characters.module.scss.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"alive\": \"characters-module-scss-module__8gvetW__alive\",\n  \"characterBackground\": \"characters-module-scss-module__8gvetW__characterBackground\",\n  \"characterCard\": \"characters-module-scss-module__8gvetW__characterCard\",\n  \"characterHeader\": \"characters-module-scss-module__8gvetW__characterHeader\",\n  \"characterInfo\": \"characters-module-scss-module__8gvetW__characterInfo\",\n  \"characterLevel\": \"characters-module-scss-module__8gvetW__characterLevel\",\n  \"characterName\": \"characters-module-scss-module__8gvetW__characterName\",\n  \"characterRaceClass\": \"characters-module-scss-module__8gvetW__characterRaceClass\",\n  \"characterSession\": \"characters-module-scss-module__8gvetW__characterSession\",\n  \"characterStatus\": \"characters-module-scss-module__8gvetW__characterStatus\",\n  \"charactersContainer\": \"characters-module-scss-module__8gvetW__charactersContainer\",\n  \"charactersList\": \"characters-module-scss-module__8gvetW__charactersList\",\n  \"clearSearch\": \"characters-module-scss-module__8gvetW__clearSearch\",\n  \"createButton\": \"characters-module-scss-module__8gvetW__createButton\",\n  \"createForm\": \"characters-module-scss-module__8gvetW__createForm\",\n  \"createFormContainer\": \"characters-module-scss-module__8gvetW__createFormContainer\",\n  \"dead\": \"characters-module-scss-module__8gvetW__dead\",\n  \"error\": \"characters-module-scss-module__8gvetW__error\",\n  \"formActions\": \"characters-module-scss-module__8gvetW__formActions\",\n  \"formGroup\": \"characters-module-scss-module__8gvetW__formGroup\",\n  \"formRow\": \"characters-module-scss-module__8gvetW__formRow\",\n  \"header\": \"characters-module-scss-module__8gvetW__header\",\n  \"loading\": \"characters-module-scss-module__8gvetW__loading\",\n  \"noCharacters\": \"characters-module-scss-module__8gvetW__noCharacters\",\n  \"searchContainer\": \"characters-module-scss-module__8gvetW__searchContainer\",\n  \"searchInput\": \"characters-module-scss-module__8gvetW__searchInput\",\n  \"statusIndicator\": \"characters-module-scss-module__8gvetW__statusIndicator\",\n  \"submitButton\": \"characters-module-scss-module__8gvetW__submitButton\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 131, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/remyb/Documents/cours/dev%20web%20full%20stack/final%20project/Projet-Full-Stack-Front/src/app/characters/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { characterService, Character } from '../../services/api/characterService';\r\nimport Link from 'next/link';\r\nimport styles from '../../styles/characters.module.scss';\r\n\r\nexport default function Characters() {\r\n  const [characters, setCharacters] = useState<Character[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [searchTerm, setSearchTerm] = useState<string>('');\r\n\r\n  useEffect(() => {\r\n    fetchCharacters();\r\n  }, []);\r\n\r\n  const fetchCharacters = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await characterService.getCharacters();\r\n      setCharacters(response.characters);\r\n    } catch (err) {\r\n      setError((err as Error).message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const filteredCharacters = characters.filter(\r\n    (char) =>\r\n      char.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      char.race.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      char.class.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  return (\r\n    <div className={styles.charactersContainer}>\r\n      <div className={styles.header}>\r\n        <h1>Vos personnages</h1>\r\n        <Link href=\"/characters/create\" className={styles.createButton}>\r\n          Créer un personnage\r\n        </Link>\r\n      </div>\r\n\r\n      <div className={styles.searchContainer}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Rechercher un personnage...\"\r\n          value={searchTerm}\r\n          onChange={(e) => setSearchTerm(e.target.value)}\r\n          className={styles.searchInput}\r\n        />\r\n      </div>\r\n\r\n      {loading ? (\r\n        <div className={styles.loading}>Chargement des personnages...</div>\r\n      ) : error ? (\r\n        <div className={styles.error}>{error}</div>\r\n      ) : filteredCharacters.length === 0 ? (\r\n        <div className={styles.noCharacters}>\r\n          <p>Aucun personnage trouvé.</p>\r\n          {searchTerm && (\r\n            <button onClick={() => setSearchTerm('')} className={styles.clearSearch}>\r\n              Effacer la recherche\r\n            </button>\r\n          )}\r\n        </div>\r\n      ) : (\r\n        <div className={styles.charactersList}>\r\n          {filteredCharacters.map((character) => (\r\n            <Link\r\n              key={character.id}\r\n              href={`/characters/${character.id}`}\r\n              className={styles.characterCard}\r\n            >\r\n              <div className={styles.characterHeader}>\r\n                <h2 className={styles.characterName}>{character.name}</h2>\r\n                <span className={styles.characterLevel}>Niveau {character.level}</span>\r\n              </div>\r\n              <div className={styles.characterInfo}>\r\n                <p className={styles.characterRaceClass}>\r\n                  {character.race} {character.class}\r\n                </p>\r\n                {character.session && (\r\n                  <p className={styles.characterSession}>\r\n                    Session: {character.session.title}\r\n                  </p>\r\n                )}\r\n              </div>\r\n              {character.background && (\r\n                <p className={styles.characterBackground}>{character.background}</p>\r\n              )}\r\n              <div className={styles.characterStatus}>\r\n                <span\r\n                  className={`${styles.statusIndicator} ${\r\n                    character.isAlive ? styles.alive : styles.dead\r\n                  }`}\r\n                >\r\n                  {character.isAlive ? 'Vivant' : 'Décédé'}\r\n                </span>\r\n              </div>\r\n            </Link>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}